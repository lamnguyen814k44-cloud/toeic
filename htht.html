<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TOEIC Present Perfect Continuous Quiz</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: #f5f5f5;
            color: #333;
        }

        .header {
            background: white;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 4px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;
        }

        .back-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            padding: 4px;
            color: #333;
        }

        .header-title {
            display: flex;
            flex-direction: column;
        }

        .header-title h1 {
            font-size: 16px;
            font-weight: 600;
            color: #1a1a1a;
        }

        .header-title p {
            font-size: 13px;
            color: #666;
            margin-top: 2px;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 6px;
            background: #e3f2fd;
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: 600;
            color: #1976d2;
        }

        .timer-icon {
            font-size: 18px;
        }

        .progress-section {
            background: white;
            padding: 12px 16px;
            border-bottom: 1px solid #e0e0e0;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
            color: #666;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #e0e0e0;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #2196f3;
            transition: width 0.3s ease;
        }

        .content {
            padding: 16px;
            max-width: 800px;
            margin: 0 auto;
        }

        .section-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 16px;
            padding: 12px 16px;
            background: white;
            border-radius: 8px;
        }

        .section-icon {
            color: #2196f3;
            font-size: 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            color: #1a1a1a;
        }

        .question-card {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.08);
        }

        .question-label {
            display: inline-block;
            background: #e3f2fd;
            color: #1976d2;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .question-text {
            font-size: 16px;
            line-height: 1.6;
            color: #1a1a1a;
            margin-bottom: 20px;
        }

        .question-image {
            width: 100%;
            max-width: 500px;
            margin: 0 auto 24px;
            display: block;
            border-radius: 8px;
        }

        .options-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .option-item {
            display: flex;
            align-items: center;
            padding: 16px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .option-item:hover:not(.disabled) {
            border-color: #2196f3;
            background: #f5f9ff;
        }

        .option-item.disabled {
            cursor: default;
        }

        .option-item.selected {
            border-color: #2196f3;
            background: #e3f2fd;
        }

        .option-item.correct {
            border-color: #4caf50;
            background: #e8f5e9;
        }

        .option-item.incorrect {
            border-color: #f44336;
            background: #ffebee;
        }

        .option-radio {
            width: 24px;
            height: 24px;
            border: 2px solid #bdbdbd;
            border-radius: 50%;
            margin-right: 12px;
            flex-shrink: 0;
            position: relative;
            transition: all 0.2s ease;
        }

        .option-item.selected .option-radio,
        .option-item.correct .option-radio {
            border-color: #2196f3;
        }

        .option-item.correct .option-radio {
            border-color: #4caf50;
        }

        .option-item.incorrect .option-radio {
            border-color: #f44336;
        }

        .option-item.selected .option-radio::after,
        .option-item.correct .option-radio::after,
        .option-item.incorrect .option-radio::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #2196f3;
        }

        .option-item.correct .option-radio::after {
            background: #4caf50;
        }

        .option-item.incorrect .option-radio::after {
            background: #f44336;
        }

        .option-text {
            font-size: 15px;
            color: #1a1a1a;
            flex: 1;
        }

        .explanation-box {
            margin-top: 20px;
            padding: 16px;
            border-radius: 12px;
            display: none;
            animation: slideDown 0.3s ease;
        }

        .explanation-box.show {
            display: block;
        }

        .explanation-box.correct {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
        }

        .explanation-box.incorrect {
            background: #ffebee;
            border-left: 4px solid #f44336;
        }

        .explanation-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .explanation-content {
            font-size: 14px;
            line-height: 1.6;
            color: #424242;
        }

        .explanation-content p {
            margin-bottom: 10px;
        }

        .why-wrong {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        .why-wrong h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #616161;
        }

        .why-wrong ul {
            list-style: none;
            padding: 0;
        }

        .why-wrong li {
            font-size: 13px;
            padding: 4px 0;
            color: #555;
        }

        .navigation {
            position: sticky;
            bottom: 0;
            background: white;
            padding: 12px 16px;
            display: flex;
            gap: 12px;
            box-shadow: 0 -2px 8px rgba(0,0,0,0.08);
        }

        .nav-btn {
            flex: 1;
            padding: 14px 24px;
            border: none;
            border-radius: 8px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .btn-prev {
            background: white;
            color: #424242;
            border: 2px solid #e0e0e0;
        }

        .btn-prev:hover:not(:disabled) {
            background: #f5f5f5;
            border-color: #bdbdbd;
        }

        .btn-next {
            background: #2196f3;
            color: white;
        }

        .btn-next:hover:not(:disabled) {
            background: #1976d2;
        }

        .btn-finish {
            background: #4caf50;
            color: white;
        }

        .btn-finish:hover {
            background: #43a047;
        }

        .result-screen {
            display: none;
            padding: 40px 16px;
            max-width: 500px;
            margin: 0 auto;
            text-align: center;
        }

        .result-screen.show {
            display: block;
        }

        .result-card {
            background: white;
            padding: 40px 24px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .result-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
            color: #1a1a1a;
        }

        .score-circle {
            width: 160px;
            height: 160px;
            margin: 0 auto 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 42px;
            font-weight: 700;
            color: white;
            position: relative;
        }

        .score-excellent {
            background: linear-gradient(135deg, #4caf50, #8bc34a);
        }

        .score-good {
            background: linear-gradient(135deg, #2196f3, #03a9f4);
        }

        .score-fair {
            background: linear-gradient(135deg, #ff9800, #ffc107);
        }

        .score-poor {
            background: linear-gradient(135deg, #f44336, #e91e63);
        }

        .result-message {
            font-size: 20px;
            font-weight: 600;
            margin-bottom: 8px;
            color: #1a1a1a;
        }

        .result-detail {
            font-size: 15px;
            color: #666;
            margin-bottom: 30px;
        }

        .restart-btn {
            padding: 14px 32px;
            background: #2196f3;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .restart-btn:hover {
            background: #1976d2;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @media (max-width: 768px) {
            .header-title h1 {
                font-size: 14px;
            }
            
            .timer {
                padding: 6px 10px;
                font-size: 14px;
            }
            
            .question-text {
                font-size: 15px;
            }
            
            .option-text {
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-left">
            <button class="back-btn" onclick="if(confirm('B·∫°n c√≥ ch·∫Øc mu·ªën tho√°t?')) window.close()">‚Üê</button>
            <div class="header-title">
                <h1>TOEIC Present Perfect Continuous Quiz</h1>
                <p>M·ª•c ti√™u: 950+</p>
            </div>
        </div>
        <div class="timer">
            <span class="timer-icon">üïê</span>
            <span id="timerDisplay">45:00</span>
        </div>
    </div>

    <!-- Progress -->
    <div class="progress-section">
        <div class="progress-header">
            <span id="questionCounter">C√¢u 1/30</span>
            <span id="percentage">3%</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill"></div>
        </div>
    </div>

    <!-- Content -->
    <div class="content" id="quizContent">
        <div class="section-header">
            <span class="section-icon">üìù</span>
            <span class="section-title">Ph·∫ßn 1: Tr·∫Øc nghi·ªám</span>
        </div>

        <div class="question-card">
            <div class="question-label" id="questionLabel">C√ÇU 1</div>
            <div class="question-text" id="questionText"></div>
            <div class="options-list" id="optionsList"></div>
            <div class="explanation-box" id="explanationBox"></div>
        </div>
    </div>

    <!-- Navigation -->
    <div class="navigation" id="navigation">
        <button class="nav-btn btn-prev" id="prevBtn" onclick="previousQuestion()">
            ‚Üê C√¢u tr∆∞·ªõc
        </button>
        <button class="nav-btn btn-next" id="nextBtn" onclick="nextQuestion()">
            C√¢u ti·∫øp theo ‚Üí
        </button>
    </div>

    <!-- Result Screen -->
    <div class="result-screen" id="resultScreen">
        <div class="result-card">
            <h2 class="result-title">üéâ Ho√†n th√†nh!</h2>
            <div class="score-circle" id="scoreCircle">
                <span id="scoreText"></span>
            </div>
            <h3 class="result-message" id="resultMessage"></h3>
            <p class="result-detail" id="resultDetail"></p>
            <button class="restart-btn" onclick="restartQuiz()">üîÑ L√†m l·∫°i b√†i test</button>
        </div>
    </div>

    <script>
        const questions = [
            {
                level: "Basic",
                question: "The company ________ a new marketing strategy for the past three months.",
                options: [
                    "has been developing",
                    "has developed",
                    "was developing",
                    "develops"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been developing' (hi·ªán t·∫°i ho√†n th√†nh ti·∫øp di·ªÖn) di·ªÖn t·∫£ h√†nh ƒë·ªông b·∫Øt ƒë·∫ßu t·ª´ qu√° kh·ª©, k√©o d√†i li√™n t·ª•c ƒë·∫øn hi·ªán t·∫°i v√† nh·∫•n m·∫°nh s·ª± li√™n t·ª•c. C√≥ 'for the past three months' ch·ªâ kho·∫£ng th·ªùi gian k√©o d√†i.",
                whyWrong: [
                    "B. Has developed (hi·ªán t·∫°i ho√†n th√†nh): nh·∫•n m·∫°nh k·∫øt qu·∫£, kh√¥ng nh·∫•n m·∫°nh s·ª± li√™n t·ª•c trong su·ªët 3 th√°ng.",
                    "C. Was developing (qu√° kh·ª© ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra t·∫°i m·ªôt th·ªùi ƒëi·ªÉm trong qu√° kh·ª©, kh√¥ng li√™n h·ªá v·ªõi hi·ªán t·∫°i.",
                    "D. Develops (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen/s·ª± th·∫≠t, kh√¥ng ph√π h·ª£p v·ªõi kho·∫£ng th·ªùi gian 'for the past three months'."
                ]
            },
            {
                level: "Basic",
                question: "We ________ for the manager since 9 a.m., but he still hasn't arrived.",
                options: [
                    "have been waiting",
                    "waited",
                    "are waiting",
                    "wait"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been waiting' di·ªÖn t·∫£ h√†nh ƒë·ªông b·∫Øt ƒë·∫ßu t·ª´ 9 gi·ªù s√°ng, k√©o d√†i li√™n t·ª•c ƒë·∫øn hi·ªán t·∫°i (v·∫´n ƒëang ch·ªù). T·ª´ 'since' l√† d·∫•u hi·ªáu c·ªßa Present Perfect Continuous.",
                whyWrong: [
                    "B. Waited (qu√° kh·ª© ƒë∆°n): ch·ªâ h√†nh ƒë·ªông ƒë√£ ho√†n th√†nh trong qu√° kh·ª©, kh√¥ng li√™n quan ƒë·∫øn hi·ªán t·∫°i.",
                    "C. Are waiting (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra hi·ªán t·∫°i, kh√¥ng n√≥i l√™n kho·∫£ng th·ªùi gian ƒë√£ ch·ªù t·ª´ 9 gi·ªù s√°ng.",
                    "D. Wait (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng ph√π h·ª£p v·ªõi t√¨nh hu·ªëng c·ª• th·ªÉ n√†y."
                ]
            },
            {
                level: "Basic",
                question: "She looks tired because she ________ on this report all day.",
                options: [
                    "has been working",
                    "worked",
                    "works",
                    "is working"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been working' gi·∫£i th√≠ch nguy√™n nh√¢n hi·ªán t·∫°i (tired) b·∫±ng h√†nh ƒë·ªông k√©o d√†i su·ªët c·∫£ ng√†y. Present Perfect Continuous th∆∞·ªùng d√πng ƒë·ªÉ gi·∫£i th√≠ch k·∫øt qu·∫£/h·∫≠u qu·∫£ ·ªü hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Worked (qu√° kh·ª© ƒë∆°n): kh√¥ng li√™n k·∫øt v·ªõi t√¨nh tr·∫°ng hi·ªán t·∫°i (looks tired now).",
                    "C. Works (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng gi·∫£i th√≠ch ƒë∆∞·ª£c t·∫°i sao b√¢y gi·ªù m·ªát.",
                    "D. Is working (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra, kh√¥ng n√≥i l√™n ƒë√£ l√†m vi·ªác 'all day'."
                ]
            },
            {
                level: "Basic",
                question: "How long ________ English before you moved to the US?",
                options: [
                    "had you been studying",
                    "have you been studying",
                    "did you study",
                    "are you studying"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Had you been studying' (qu√° kh·ª© ho√†n th√†nh ti·∫øp di·ªÖn) di·ªÖn t·∫£ h√†nh ƒë·ªông k√©o d√†i ƒë·∫øn m·ªôt m·ªëc trong qu√° kh·ª© (before you moved). C√¢u h·ªèi v·ªÅ kho·∫£ng th·ªùi gian tr∆∞·ªõc s·ª± ki·ªán qu√° kh·ª©.",
                whyWrong: [
                    "B. Have you been studying (hi·ªán t·∫°i ho√†n th√†nh ti·∫øp di·ªÖn): d√πng cho h√†nh ƒë·ªông li√™n quan ƒë·∫øn hi·ªán t·∫°i, kh√¥ng ph√π h·ª£p v√¨ ƒë√£ 'moved' (qu√° kh·ª©).",
                    "C. Did you study (qu√° kh·ª© ƒë∆°n): kh√¥ng nh·∫•n m·∫°nh s·ª± li√™n t·ª•c v√† kho·∫£ng th·ªùi gian 'how long'.",
                    "D. Are you studying (hi·ªán t·∫°i ti·∫øp di·ªÖn): d√πng cho hi·ªán t·∫°i, ho√†n to√†n sai ng·ªØ c·∫£nh qu√° kh·ª©."
                ]
            },
            {
                level: "Basic",
                question: "They ________ the new software for two weeks now.",
                options: [
                    "have been testing",
                    "tested",
                    "test",
                    "were testing"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been testing' v·ªõi 'for two weeks now' ch·ªâ h√†nh ƒë·ªông b·∫Øt ƒë·∫ßu 2 tu·∫ßn tr∆∞·ªõc, v·∫´n ti·∫øp di·ªÖn ƒë·∫øn hi·ªán t·∫°i. 'Now' nh·∫•n m·∫°nh li√™n h·ªá v·ªõi th·ªùi ƒëi·ªÉm n√≥i.",
                whyWrong: [
                    "B. Tested (qu√° kh·ª© ƒë∆°n): ch·ªâ h√†nh ƒë·ªông ƒë√£ ho√†n th√†nh, kh√¥ng c√≤n ti·∫øp di·ªÖn.",
                    "C. Test (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen chung, kh√¥ng ph√π h·ª£p v·ªõi kho·∫£ng th·ªùi gian c·ª• th·ªÉ.",
                    "D. Were testing (qu√° kh·ª© ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông trong qu√° kh·ª©, kh√¥ng li√™n quan ƒë·∫øn 'now'."
                ]
            },
            {
                level: "Basic",
                question: "I ________ to contact you all morning. Where have you been?",
                options: [
                    "have been trying",
                    "tried",
                    "try",
                    "was trying"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been trying' di·ªÖn t·∫£ n·ªó l·ª±c li√™n t·ª•c t·ª´ s√°ng ƒë·∫øn gi·ªù. 'All morning' l√† d·∫•u hi·ªáu c·ªßa Present Perfect Continuous, v√† c√¢u h·ªèi 'Where have you been?' x√°c nh·∫≠n th·ªùi ƒëi·ªÉm hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Tried (qu√° kh·ª© ƒë∆°n): ch·ªâ h√†nh ƒë·ªông ƒë√£ xong, kh√¥ng nh·∫•n m·∫°nh n·ªó l·ª±c li√™n t·ª•c 'all morning'.",
                    "C. Try (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng ph√π h·ª£p v·ªõi t√¨nh hu·ªëng c·ª• th·ªÉ.",
                    "D. Was trying (qu√° kh·ª© ti·∫øp di·ªÖn): kh√¥ng li√™n k·∫øt v·ªõi hi·ªán t·∫°i (Where have you been?)."
                ]
            },
            {
                level: "Intermediate",
                question: "The sales team ________ consistently high results this quarter, which is why they received a bonus.",
                options: [
                    "has achieved",
                    "has been achieving",
                    "achieved",
                    "had been achieving"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has achieved' (hi·ªán t·∫°i ho√†n th√†nh ƒë∆°n) nh·∫•n m·∫°nh K·∫æT QU·∫¢ (high results) ƒë√£ ƒë·∫°t ƒë∆∞·ª£c, d·∫´n ƒë·∫øn ph·∫ßn th∆∞·ªüng. Present Perfect Continuous nh·∫•n m·∫°nh qu√° tr√¨nh, nh∆∞ng ·ªü ƒë√¢y ta c·∫ßn nh·∫•n m·∫°nh th√†nh t√≠ch.",
                whyWrong: [
                    "B. Has been achieving: nh·∫•n m·∫°nh qu√° tr√¨nh li√™n t·ª•c h∆°n l√† k·∫øt qu·∫£ c·ª• th·ªÉ, √≠t ph√π h·ª£p v·ªõi 'received a bonus' (k·∫øt qu·∫£ r√µ r√†ng).",
                    "C. Achieved (qu√° kh·ª© ƒë∆°n): kh√¥ng li√™n k·∫øt v·ªõi hi·ªán t·∫°i 'this quarter' v·∫´n ƒëang trong th·ªùi gian hi·ªán t·∫°i.",
                    "D. Had been achieving (qu√° kh·ª© ho√†n th√†nh ti·∫øp di·ªÖn): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p ·ªü ƒë√¢y."
                ]
            },
            {
                level: "Intermediate",
                question: "Ms. Johnson ________ with several international clients lately, so she might be unavailable.",
                options: [
                    "has been meeting",
                    "meets",
                    "met",
                    "is meeting"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been meeting' v·ªõi 'lately' di·ªÖn t·∫£ c√°c cu·ªôc h·ªçp li√™n t·ª•c trong th·ªùi gian g·∫ßn ƒë√¢y, gi·∫£i th√≠ch t√¨nh tr·∫°ng hi·ªán t·∫°i (might be unavailable). Nh·∫•n m·∫°nh s·ª± l·∫∑p l·∫°i v√† li√™n t·ª•c.",
                whyWrong: [
                    "B. Meets (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen chung, kh√¥ng nh·∫•n m·∫°nh ho·∫°t ƒë·ªông tƒÉng c∆∞·ªùng 'lately'.",
                    "C. Met (qu√° kh·ª© ƒë∆°n): ch·ªâ s·ª± ki·ªán qu√° kh·ª©, kh√¥ng gi·∫£i th√≠ch t√¨nh tr·∫°ng hi·ªán t·∫°i.",
                    "D. Is meeting (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra ngay b√¢y gi·ªù, kh√¥ng ph√π h·ª£p v·ªõi 'lately' (kho·∫£ng th·ªùi gian r·ªông h∆°n)."
                ]
            },
            {
                level: "Intermediate",
                question: "The construction noise ________ me awake every night this week.",
                options: [
                    "has been keeping",
                    "kept",
                    "keeps",
                    "is keeping"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been keeping' di·ªÖn t·∫£ t√¨nh tr·∫°ng ti·∫øp di·ªÖn su·ªët tu·∫ßn n√†y ('this week' - kho·∫£ng th·ªùi gian ch∆∞a k·∫øt th√∫c). Present Perfect Continuous ph√π h·ª£p v·ªõi h√†nh ƒë·ªông l·∫∑p l·∫°i trong kho·∫£ng th·ªùi gian ƒë·∫øn hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Kept (qu√° kh·ª© ƒë∆°n): 'this week' ch∆∞a k·∫øt th√∫c n√™n kh√¥ng d√πng qu√° kh·ª© ƒë∆°n.",
                    "C. Keeps (hi·ªán t·∫°i ƒë∆°n): c√≥ th·ªÉ d√πng nh∆∞ng kh√¥ng nh·∫•n m·∫°nh s·ª± li√™n t·ª•c trong su·ªët tu·∫ßn nh∆∞ Present Perfect Continuous.",
                    "D. Is keeping (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra ngay b√¢y gi·ªù, kh√¥ng bao qu√°t 'every night this week'."
                ]
            },
            {
                level: "Intermediate",
                question: "Our team ________ overtime to meet the deadline, but we still need more time.",
                options: [
                    "has been working",
                    "worked",
                    "works",
                    "had worked"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been working' nh·∫•n m·∫°nh n·ªó l·ª±c li√™n t·ª•c ƒë·∫øn hi·ªán t·∫°i, v√† 'but we still need' cho th·∫•y h√†nh ƒë·ªông v·∫´n li√™n quan ƒë·∫øn hi·ªán t·∫°i. Present Perfect Continuous ph√π h·ª£p ƒë·ªÉ n√≥i v·ªÅ n·ªó l·ª±c ch∆∞a ƒë·∫°t k·∫øt qu·∫£ mong mu·ªën.",
                whyWrong: [
                    "B. Worked (qu√° kh·ª© ƒë∆°n): ng·ª• √Ω ƒë√£ ng·ª´ng l√†m th√™m gi·ªù, kh√¥ng ph√π h·ª£p v·ªõi 'we still need more time'.",
                    "C. Works (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng nh·∫•n m·∫°nh n·ªó l·ª±c ƒë·∫∑c bi·ªát ƒë·ªÉ 'meet the deadline'.",
                    "D. Had worked (qu√° kh·ª© ho√†n th√†nh): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p ·ªü ƒë√¢y."
                ]
            },
            {
                level: "Intermediate",
                question: "The company ________ its market share gradually over the last five years.",
                options: [
                    "has increased",
                    "has been increasing",
                    "increased",
                    "increases"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has increased' nh·∫•n m·∫°nh K·∫æT QU·∫¢ (th·ªã ph·∫ßn ƒë√£ tƒÉng), trong khi 'gradually over the last five years' m√¥ t·∫£ qu√° tr√¨nh. V·ªõi ƒë·ªông t·ª´ tr·∫°ng th√°i nh∆∞ 'increase' (c√≥ th·ªÉ ƒëo l∆∞·ªùng), ta th∆∞·ªùng d√πng Present Perfect ƒë·ªÉ nh·∫•n m·∫°nh th√†nh t·ª±u.",
                whyWrong: [
                    "B. Has been increasing: c≈©ng ƒë√∫ng ng·ªØ ph√°p nh∆∞ng trong TOEIC, khi c√≥ k·∫øt qu·∫£ ƒëo l∆∞·ªùng r√µ r√†ng (market share), Present Perfect Simple ƒë∆∞·ª£c ∆∞a chu·ªông h∆°n.",
                    "C. Increased (qu√° kh·ª© ƒë∆°n): 'over the last five years' k√©o d√†i ƒë·∫øn hi·ªán t·∫°i n√™n c·∫ßn Present Perfect.",
                    "D. Increases (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ s·ª± th·∫≠t chung, kh√¥ng ph√π h·ª£p v·ªõi kho·∫£ng th·ªùi gian c·ª• th·ªÉ 'last five years'."
                ]
            },
            {
                level: "Intermediate",
                question: "Why is the office so messy? What ________ here?",
                options: [
                    "have you been doing",
                    "did you do",
                    "do you do",
                    "were you doing"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have you been doing' h·ªèi v·ªÅ h√†nh ƒë·ªông v·ª´a x·∫£y ra, c√≤n ƒë·ªÉ l·∫°i k·∫øt qu·∫£ ·ªü hi·ªán t·∫°i (messy office). Present Perfect Continuous d√πng ƒë·ªÉ h·ªèi v·ªÅ nguy√™n nh√¢n c·ªßa t√¨nh tr·∫°ng hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Did you do (qu√° kh·ª© ƒë∆°n): h·ªèi v·ªÅ h√†nh ƒë·ªông trong qu√° kh·ª© nh∆∞ng kh√¥ng nh·∫•n m·∫°nh k·∫øt qu·∫£ c√≤n l·∫°i ·ªü hi·ªán t·∫°i.",
                    "C. Do you do (hi·ªán t·∫°i ƒë∆°n): h·ªèi v·ªÅ th√≥i quen, kh√¥ng ph√π h·ª£p v·ªõi t√¨nh hu·ªëng c·ª• th·ªÉ (office is messy now).",
                    "D. Were you doing (qu√° kh·ª© ti·∫øp di·ªÖn): h·ªèi v·ªÅ h√†nh ƒë·ªông ƒëang x·∫£y ra t·∫°i m·ªôt th·ªùi ƒëi·ªÉm qu√° kh·ª©, kh√¥ng li√™n h·ªá v·ªõi hi·ªán t·∫°i."
                ]
            },
            {
                level: "Advanced",
                question: "The research department ________ data from various sources, which should help us make an informed decision.",
                options: [
                    "has collected",
                    "has been collecting",
                    "had been collecting",
                    "collected"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has collected' nh·∫•n m·∫°nh d·ªØ li·ªáu ƒê√É THU TH·∫¨P XONG v√† s·∫µn s√†ng ƒë·ªÉ ra quy·∫øt ƒë·ªãnh. 'Which should help' ch·ªâ k·∫øt qu·∫£ ho√†n th√†nh. N·∫øu d√πng 'has been collecting', ng·ª• √Ω v·∫´n ƒëang thu th·∫≠p, ch∆∞a s·∫µn s√†ng.",
                whyWrong: [
                    "B. Has been collecting: nh·∫•n m·∫°nh qu√° tr√¨nh v·∫´n ƒëang ti·∫øp di·ªÖn, kh√¥ng ph√π h·ª£p v·ªõi 'should help us make a decision' (c·∫ßn d·ªØ li·ªáu ƒë√£ c√≥).",
                    "C. Had been collecting (qu√° kh·ª© ho√†n th√†nh ti·∫øp di·ªÖn): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng h·ª£p l√Ω ·ªü ƒë√¢y.",
                    "D. Collected (qu√° kh·ª© ƒë∆°n): kh√¥ng li√™n k·∫øt v·ªõi hi·ªán t·∫°i (should help us now)."
                ]
            },
            {
                level: "Advanced",
                question: "By the time we launch the product, the team ________ on this project for over a year.",
                options: [
                    "will have been working",
                    "has been working",
                    "will work",
                    "works"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Will have been working' (t∆∞∆°ng lai ho√†n th√†nh ti·∫øp di·ªÖn) di·ªÖn t·∫£ h√†nh ƒë·ªông s·∫Ω k√©o d√†i cho ƒë·∫øn m·ªôt th·ªùi ƒëi·ªÉm trong t∆∞∆°ng lai (when we launch). 'By the time' l√† d·∫•u hi·ªáu c·ªßa Future Perfect Continuous.",
                whyWrong: [
                    "B. Has been working (hi·ªán t·∫°i ho√†n th√†nh ti·∫øp di·ªÖn): di·ªÖn t·∫£ h√†nh ƒë·ªông ƒë·∫øn hi·ªán t·∫°i, nh∆∞ng 'by the time we launch' ch·ªâ th·ªùi ƒëi·ªÉm t∆∞∆°ng lai.",
                    "C. Will work (t∆∞∆°ng lai ƒë∆°n): ch·ªâ h√†nh ƒë·ªông s·∫Ω x·∫£y ra, kh√¥ng nh·∫•n m·∫°nh kho·∫£ng th·ªùi gian 'over a year'.",
                    "D. Works (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, ho√†n to√†n sai ng·ªØ c·∫£nh t∆∞∆°ng lai."
                ]
            },
            {
                level: "Advanced",
                question: "The company's profits ________ steadily, despite the economic downturn affecting most competitors.",
                options: [
                    "have been rising",
                    "rise",
                    "rose",
                    "had risen"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been rising' di·ªÖn t·∫£ xu h∆∞·ªõng tƒÉng li√™n t·ª•c ƒë·∫øn hi·ªán t·∫°i, ƒë·∫∑c bi·ªát trong b·ªëi c·∫£nh kh√≥ khƒÉn ('despite downturn'). Present Perfect Continuous nh·∫•n m·∫°nh s·ª± li√™n t·ª•c v√† ƒë√°ng ch√∫ √Ω c·ªßa xu h∆∞·ªõng.",
                whyWrong: [
                    "B. Rise (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ s·ª± th·∫≠t chung, kh√¥ng nh·∫•n m·∫°nh xu h∆∞·ªõng ƒëang di·ªÖn ra.",
                    "C. Rose (qu√° kh·ª© ƒë∆°n): ch·ªâ s·ª± ki·ªán ƒë√£ x·∫£y ra, kh√¥ng n√≥i l√™n xu h∆∞·ªõng li√™n t·ª•c ƒë·∫øn hi·ªán t·∫°i.",
                    "D. Had risen (qu√° kh·ª© ho√†n th√†nh): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p ·ªü ƒë√¢y."
                ]
            },
            {
                level: "Advanced",
                question: "Employees ________ about the lack of communication from management recently.",
                options: [
                    "have been complaining",
                    "complained",
                    "complain",
                    "are complaining"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been complaining' v·ªõi 'recently' di·ªÖn t·∫£ t√¨nh tr·∫°ng ph√†n n√†n li√™n t·ª•c trong th·ªùi gian g·∫ßn ƒë√¢y. Present Perfect Continuous th√≠ch h·ª£p cho h√†nh ƒë·ªông l·∫∑p l·∫°i nhi·ªÅu l·∫ßn trong m·ªôt kho·∫£ng th·ªùi gian ƒë·∫øn hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Complained (qu√° kh·ª© ƒë∆°n): 'recently' k√©o d√†i ƒë·∫øn hi·ªán t·∫°i n√™n c·∫ßn Present Perfect Continuous.",
                    "C. Complain (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen chung, kh√¥ng nh·∫•n m·∫°nh t√¨nh tr·∫°ng 'recently'.",
                    "D. Are complaining (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra ngay b√¢y gi·ªù, kh√¥ng bao qu√°t 'recently'."
                ]
            },
            {
                level: "Advanced",
                question: "The manufacturing plant ________ at full capacity since the beginning of the year to meet increased demand.",
                options: [
                    "has been operating",
                    "operates",
                    "operated",
                    "will operate"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been operating' v·ªõi 'since the beginning of the year' di·ªÖn t·∫£ ho·∫°t ƒë·ªông li√™n t·ª•c t·ª´ ƒë·∫ßu nƒÉm ƒë·∫øn nay. 'Since' l√† d·∫•u hi·ªáu ƒëi·ªÉn h√¨nh c·ªßa Present Perfect Continuous, v√† 'at full capacity' nh·∫•n m·∫°nh c∆∞·ªùng ƒë·ªô li√™n t·ª•c.",
                whyWrong: [
                    "B. Operates (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ ho·∫°t ƒë·ªông th√¥ng th∆∞·ªùng, kh√¥ng nh·∫•n m·∫°nh t√¨nh tr·∫°ng ƒë·∫∑c bi·ªát 'since the beginning of the year'.",
                    "C. Operated (qu√° kh·ª© ƒë∆°n): 'since the beginning of the year' k√©o d√†i ƒë·∫øn hi·ªán t·∫°i n√™n c·∫ßn Present Perfect.",
                    "D. Will operate (t∆∞∆°ng lai ƒë∆°n): sai ho√†n to√†n v√¨ ƒë√£ ho·∫°t ƒë·ªông t·ª´ ƒë·∫ßu nƒÉm."
                ]
            },
            {
                level: "Advanced",
                question: "Mr. Peterson ________ the same presentation to different departments all week, which explains why he looks exhausted.",
                options: [
                    "has been giving",
                    "gave",
                    "gives",
                    "is giving"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been giving' di·ªÖn t·∫£ h√†nh ƒë·ªông l·∫∑p l·∫°i nhi·ªÅu l·∫ßn su·ªët tu·∫ßn ('all week' - ch∆∞a k·∫øt th√∫c), gi·∫£i th√≠ch t√¨nh tr·∫°ng hi·ªán t·∫°i (looks exhausted). Perfect structure cho TOEIC 950+.",
                whyWrong: [
                    "B. Gave (qu√° kh·ª© ƒë∆°n): 'all week' (this week) ch∆∞a k·∫øt th√∫c n√™n c·∫ßn Present Perfect Continuous.",
                    "C. Gives (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng gi·∫£i th√≠ch ƒë∆∞·ª£c t√¨nh tr·∫°ng m·ªát m·ªèi b·∫•t th∆∞·ªùng.",
                    "D. Is giving (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra ngay b√¢y gi·ªù, kh√¥ng bao qu√°t 'all week'."
                ]
            },
            {
                level: "Advanced",
                question: "Investors ________ confidence in the stock market lately due to political instability.",
                options: [
                    "have been losing",
                    "lose",
                    "lost",
                    "had lost"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been losing' v·ªõi 'lately' di·ªÖn t·∫£ xu h∆∞·ªõng m·∫•t d·∫ßn ni·ªÅm tin trong th·ªùi gian g·∫ßn ƒë√¢y. Present Perfect Continuous ph√π h·ª£p ƒë·ªÉ m√¥ t·∫£ xu h∆∞·ªõng/thay ƒë·ªïi d·∫ßn d·∫ßn ƒëang di·ªÖn ra.",
                whyWrong: [
                    "B. Lose (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ s·ª± th·∫≠t chung, kh√¥ng th·ªÉ hi·ªán xu h∆∞·ªõng 'lately'.",
                    "C. Lost (qu√° kh·ª© ƒë∆°n): 'lately' li√™n quan ƒë·∫øn hi·ªán t·∫°i n√™n c·∫ßn Present Perfect.",
                    "D. Had lost (qu√° kh·ª© ho√†n th√†nh): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p ·ªü ƒë√¢y."
                ]
            },
            {
                level: "Advanced",
                question: "The IT department ________ with network issues all morning, so some services may still be affected.",
                options: [
                    "has been dealing",
                    "dealt",
                    "deals",
                    "was dealing"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been dealing' di·ªÖn t·∫£ vi·ªác x·ª≠ l√Ω li√™n t·ª•c t·ª´ s√°ng ƒë·∫øn gi·ªù, gi·∫£i th√≠ch t·∫°i sao 'services may still be affected' (hi·ªán t·∫°i). Present Perfect Continuous k·∫øt n·ªëi qu√° kh·ª© v·ªõi hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Dealt (qu√° kh·ª© ƒë∆°n): ng·ª• √Ω ƒë√£ x·ª≠ l√Ω xong, kh√¥ng ph√π h·ª£p v·ªõi 'may still be affected'.",
                    "C. Deals (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ nhi·ªám v·ª• th√¥ng th∆∞·ªùng, kh√¥ng ph·∫£n √°nh t√¨nh hu·ªëng kh·∫©n c·∫•p 'all morning'.",
                    "D. Was dealing (qu√° kh·ª© ti·∫øp di·ªÖn): kh√¥ng li√™n k·∫øt v·ªõi hi·ªán t·∫°i (may still be affected now)."
                ]
            },
            {
                level: "Advanced",
                question: "Several employees ________ concerns about workplace safety, prompting management to schedule a meeting.",
                options: [
                    "have been raising",
                    "raised",
                    "raise",
                    "were raising"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been raising' di·ªÖn t·∫£ vi·ªác nhi·ªÅu nh√¢n vi√™n li√™n t·ª•c ƒë∆∞a ra lo ng·∫°i, d·∫´n ƒë·∫øn quy·∫øt ƒë·ªãnh h·ªçp (hi·ªán t·∫°i). Present Perfect Continuous cho th·∫•y h√†nh ƒë·ªông l·∫∑p l·∫°i nhi·ªÅu l·∫ßn trong th·ªùi gian g·∫ßn ƒë√¢y.",
                whyWrong: [
                    "B. Raised (qu√° kh·ª© ƒë∆°n): c√≥ th·ªÉ d√πng nh∆∞ng kh√¥ng nh·∫•n m·∫°nh t√≠nh li√™n t·ª•c v√† l·∫∑p l·∫°i nh∆∞ Present Perfect Continuous (ƒëi·ªÉm ph√¢n bi·ªát cho TOEIC 950+).",
                    "C. Raise (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng ph√π h·ª£p v·ªõi t√¨nh hu·ªëng c·ª• th·ªÉ d·∫´n ƒë·∫øn 'prompting management'.",
                    "D. Were raising (qu√° kh·ª© ti·∫øp di·ªÖn): kh√¥ng li√™n k·∫øt v·ªõi quy·∫øt ƒë·ªãnh hi·ªán t·∫°i (to schedule a meeting)."
                ]
            },
            {
                level: "Advanced",
                question: "The consulting firm ________ its services to include digital transformation, which has attracted many new clients.",
                options: [
                    "has expanded",
                    "has been expanding",
                    "expanded",
                    "expands"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has expanded' nh·∫•n m·∫°nh K·∫æT QU·∫¢ ƒë√£ ho√†n th√†nh (d·ªãch v·ª• ƒë√£ ƒë∆∞·ª£c m·ªü r·ªông), d·∫´n ƒë·∫øn thu h√∫t kh√°ch h√†ng. V·ªõi ƒë·ªông t·ª´ thay ƒë·ªïi tr·∫°ng th√°i nh∆∞ 'expand' v√† k·∫øt qu·∫£ r√µ r√†ng, Present Perfect Simple ph√π h·ª£p h∆°n.",
                whyWrong: [
                    "B. Has been expanding: nh·∫•n m·∫°nh qu√° tr√¨nh ƒëang m·ªü r·ªông, nh∆∞ng 'which has attracted' cho th·∫•y vi·ªác m·ªü r·ªông ƒë√£ ho√†n th√†nh v√† c√≥ k·∫øt qu·∫£.",
                    "C. Expanded (qu√° kh·ª© ƒë∆°n): kh√¥ng li√™n k·∫øt v·ªõi k·∫øt qu·∫£ hi·ªán t·∫°i 'has attracted'.",
                    "D. Expands (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ ho·∫°t ƒë·ªông th∆∞·ªùng xuy√™n, kh√¥ng ph√π h·ª£p v·ªõi s·ª± ki·ªán c·ª• th·ªÉ."
                ]
            },
            {
                level: "Advanced",
                question: "Analysts ________ the financial reports carefully before making their recommendations.",
                options: [
                    "have been reviewing",
                    "reviewed",
                    "review",
                    "had reviewed"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been reviewing' di·ªÖn t·∫£ vi·ªác xem x√©t c·∫©n th·∫≠n ƒëang di·ªÖn ra v√† ch∆∞a k·∫øt th√∫c, tr∆∞·ªõc khi ƒë∆∞a ra khuy·∫øn ngh·ªã (t∆∞∆°ng lai g·∫ßn). Present Perfect Continuous cho th·∫•y qu√° tr√¨nh chu·∫©n b·ªã v·∫´n ƒëang ti·∫øp di·ªÖn.",
                whyWrong: [
                    "B. Reviewed (qu√° kh·ª© ƒë∆°n): ng·ª• √Ω ƒë√£ xem x√©t xong, nh∆∞ng 'before making recommendations' cho th·∫•y qu√° tr√¨nh ch∆∞a ho√†n th√†nh.",
                    "C. Review (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng ph√π h·ª£p v·ªõi t√¨nh hu·ªëng c·ª• th·ªÉ n√†y.",
                    "D. Had reviewed (qu√° kh·ª© ho√†n th√†nh): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p ·ªü ƒë√¢y."
                ]
            },
            {
                level: "Advanced",
                question: "The quality control team ________ stricter standards recently to improve customer satisfaction.",
                options: [
                    "has been implementing",
                    "implements",
                    "implemented",
                    "had implemented"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been implementing' v·ªõi 'recently' di·ªÖn t·∫£ qu√° tr√¨nh tri·ªÉn khai ti√™u chu·∫©n nghi√™m ng·∫∑t h∆°n ƒëang di·ªÖn ra. Present Perfect Continuous ph√π h·ª£p cho h√†nh ƒë·ªông b·∫Øt ƒë·∫ßu g·∫ßn ƒë√¢y v√† v·∫´n ti·∫øp t·ª•c.",
                whyWrong: [
                    "B. Implements (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng th·ªÉ hi·ªán s·ª± thay ƒë·ªïi 'recently'.",
                    "C. Implemented (qu√° kh·ª© ƒë∆°n): 'recently' k√©o d√†i ƒë·∫øn hi·ªán t·∫°i n√™n c·∫ßn Present Perfect.",
                    "D. Had implemented (qu√° kh·ª© ho√†n th√†nh): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p."
                ]
            },
            {
                level: "Advanced",
                question: "We ________ positive feedback from customers since we redesigned the website.",
                options: [
                    "have been receiving",
                    "received",
                    "receive",
                    "are receiving"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been receiving' v·ªõi 'since we redesigned' di·ªÖn t·∫£ vi·ªác nh·∫≠n ph·∫£n h·ªìi li√™n t·ª•c t·ª´ khi thi·∫øt k·∫ø l·∫°i ƒë·∫øn nay. 'Since' l√† d·∫•u hi·ªáu r√µ r√†ng c·ªßa Present Perfect Continuous.",
                whyWrong: [
                    "B. Received (qu√° kh·ª© ƒë∆°n): 'since we redesigned' k√©o d√†i ƒë·∫øn hi·ªán t·∫°i n√™n c·∫ßn Present Perfect.",
                    "C. Receive (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ ho·∫°t ƒë·ªông th√¥ng th∆∞·ªùng, kh√¥ng nh·∫•n m·∫°nh xu h∆∞·ªõng t·ª´ 'since we redesigned'.",
                    "D. Are receiving (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra ngay b√¢y gi·ªù, kh√¥ng bao qu√°t kho·∫£ng th·ªùi gian t·ª´ 'since'."
                ]
            },
            {
                level: "Advanced",
                question: "The legal team ________ the contract terms for weeks, but negotiations are still ongoing.",
                options: [
                    "has been discussing",
                    "discussed",
                    "discusses",
                    "is discussing"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been discussing' v·ªõi 'for weeks' di·ªÖn t·∫£ th·∫£o lu·∫≠n k√©o d√†i nhi·ªÅu tu·∫ßn v√† 'are still ongoing' x√°c nh·∫≠n v·∫´n ti·∫øp di·ªÖn. Perfect structure cho TOEIC 950+ khi c√≥ c·∫£ kho·∫£ng th·ªùi gian v√† t√¨nh tr·∫°ng hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Discussed (qu√° kh·ª© ƒë∆°n): ng·ª• √Ω ƒë√£ ng·ª´ng th·∫£o lu·∫≠n, kh√¥ng ph√π h·ª£p v·ªõi 'are still ongoing'.",
                    "C. Discusses (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ th√≥i quen, kh√¥ng nh·∫•n m·∫°nh n·ªó l·ª±c 'for weeks'.",
                    "D. Is discussing (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra ngay b√¢y gi·ªù, kh√¥ng bao qu√°t 'for weeks'."
                ]
            },
            {
                level: "Advanced",
                question: "Local suppliers ________ difficulty keeping up with our orders due to increased production.",
                options: [
                    "have been experiencing",
                    "experience",
                    "experienced",
                    "had experienced"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been experiencing' di·ªÖn t·∫£ kh√≥ khƒÉn li√™n t·ª•c ƒëang x·∫£y ra do s·∫£n xu·∫•t tƒÉng. Present Perfect Continuous ph√π h·ª£p cho t√¨nh tr·∫°ng ƒëang di·ªÖn ra v√† g√¢y ·∫£nh h∆∞·ªüng hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Experience (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ t√¨nh tr·∫°ng chung, kh√¥ng nh·∫•n m·∫°nh v·∫•n ƒë·ªÅ ƒëang di·ªÖn ra 'due to increased production'.",
                    "C. Experienced (qu√° kh·ª© ƒë∆°n): kh√¥ng li√™n k·∫øt v·ªõi t√¨nh tr·∫°ng hi·ªán t·∫°i.",
                    "D. Had experienced (qu√° kh·ª© ho√†n th√†nh): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p."
                ]
            },
            {
                level: "Advanced",
                question: "The board ________ whether to approve the merger for several months now.",
                options: [
                    "has been considering",
                    "considered",
                    "considers",
                    "is considering"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been considering' v·ªõi 'for several months now' di·ªÖn t·∫£ vi·ªác c√¢n nh·∫Øc k√©o d√†i nhi·ªÅu th√°ng v√† v·∫´n ch∆∞a quy·∫øt ƒë·ªãnh. 'Now' nh·∫•n m·∫°nh li√™n quan ƒë·∫øn hi·ªán t·∫°i.",
                whyWrong: [
                    "B. Considered (qu√° kh·ª© ƒë∆°n): ng·ª• √Ω ƒë√£ k·∫øt th√∫c qu√° tr√¨nh c√¢n nh·∫Øc, kh√¥ng ph√π h·ª£p v·ªõi 'now'.",
                    "C. Considers (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ ho·∫°t ƒë·ªông th∆∞·ªùng xuy√™n, kh√¥ng nh·∫•n m·∫°nh qu√° tr√¨nh k√©o d√†i 'for several months'.",
                    "D. Is considering (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra hi·ªán t·∫°i, kh√¥ng bao qu√°t 'for several months'."
                ]
            },
            {
                level: "Advanced",
                question: "Competitors ________ to enter our market segment, which requires us to strengthen our position.",
                options: [
                    "have been attempting",
                    "attempt",
                    "attempted",
                    "are attempting"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Have been attempting' di·ªÖn t·∫£ c√°c n·ªó l·ª±c li√™n t·ª•c c·ªßa ƒë·ªëi th·ªß trong th·ªùi gian g·∫ßn ƒë√¢y, d·∫´n ƒë·∫øn nhu c·∫ßu c·ªßng c·ªë v·ªã th·∫ø (hi·ªán t·∫°i). Present Perfect Continuous cho th·∫•y m·ªëi ƒëe d·ªça ƒëang di·ªÖn ra.",
                whyWrong: [
                    "B. Attempt (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ ho·∫°t ƒë·ªông chung, kh√¥ng nh·∫•n m·∫°nh n·ªó l·ª±c gia tƒÉng g·∫ßn ƒë√¢y.",
                    "C. Attempted (qu√° kh·ª© ƒë∆°n): kh√¥ng li√™n k·∫øt v·ªõi nhu c·∫ßu hi·ªán t·∫°i 'requires us to strengthen'.",
                    "D. Are attempting (hi·ªán t·∫°i ti·∫øp di·ªÖn): ch·ªâ h√†nh ƒë·ªông ƒëang x·∫£y ra ngay b√¢y gi·ªù, kh√¥ng bao qu√°t xu h∆∞·ªõng k√©o d√†i."
                ]
            },
            {
                level: "Advanced",
                question: "The director ________ a more collaborative work environment since taking over the department.",
                options: [
                    "has been promoting",
                    "promoted",
                    "promotes",
                    "had promoted"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has been promoting' v·ªõi 'since taking over' di·ªÖn t·∫£ n·ªó l·ª±c li√™n t·ª•c t·ª´ khi nh·∫≠m ch·ª©c ƒë·∫øn nay. 'Since + V-ing' l√† c·∫•u tr√∫c ƒëi·ªÉn h√¨nh cho Present Perfect Continuous trong TOEIC 950+.",
                whyWrong: [
                    "B. Promoted (qu√° kh·ª© ƒë∆°n): 'since taking over' k√©o d√†i ƒë·∫øn hi·ªán t·∫°i n√™n c·∫ßn Present Perfect.",
                    "C. Promotes (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ ho·∫°t ƒë·ªông chung, kh√¥ng nh·∫•n m·∫°nh s·ª± thay ƒë·ªïi 'since taking over'.",
                    "D. Had promoted (qu√° kh·ª© ho√†n th√†nh): d√πng cho h√†nh ƒë·ªông tr∆∞·ªõc m·ªôt m·ªëc qu√° kh·ª©, kh√¥ng ph√π h·ª£p."
                ]
            },
            {
                level: "Advanced",
                question: "The marketing campaign ________ excellent results, exceeding all our expectations.",
                options: [
                    "has produced",
                    "has been producing",
                    "produced",
                    "produces"
                ],
                correct: 0,
                explanation: "ƒê√∫ng! 'Has produced' nh·∫•n m·∫°nh K·∫æT QU·∫¢ ƒë√£ ƒë·∫°t ƒë∆∞·ª£c (excellent results, exceeding expectations). Khi c√≥ k·∫øt qu·∫£ c·ª• th·ªÉ v√† r√µ r√†ng, Present Perfect Simple ph√π h·ª£p h∆°n Continuous.",
                whyWrong: [
                    "B. Has been producing: nh·∫•n m·∫°nh qu√° tr√¨nh ƒëang t·∫°o ra k·∫øt qu·∫£, nh∆∞ng 'exceeding all expectations' cho th·∫•y k·∫øt qu·∫£ ƒë√£ ƒë·∫°t ƒë∆∞·ª£c.",
                    "C. Produced (qu√° kh·ª© ƒë∆°n): kh√¥ng li√™n k·∫øt v·ªõi hi·ªán t·∫°i (k·∫øt qu·∫£ v·∫´n c√≤n gi√° tr·ªã).",
                    "D. Produces (hi·ªán t·∫°i ƒë∆°n): di·ªÖn t·∫£ kh·∫£ nƒÉng chung, kh√¥ng ph√π h·ª£p v·ªõi th√†nh t·ª±u c·ª• th·ªÉ."
                ]
            }
        ];

        let currentQuestion = 0;
        let answers = new Array(questions.length).fill(null);
        let timeLeft = 45 * 60; // 45 minutes in seconds
        let timerInterval;

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    showResults();
                    return;
                }
                updateTimerDisplay();
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            document.getElementById('timerDisplay').textContent = 
                `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        function loadQuestion() {
            const q = questions[currentQuestion];
            
            document.getElementById('questionLabel').textContent = `C√ÇU ${currentQuestion + 1}`;
            document.getElementById('questionText').textContent = q.question;
            
            const optionsList = document.getElementById('optionsList');
            optionsList.innerHTML = '';
            
            q.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option-item';
                
                const radio = document.createElement('div');
                radio.className = 'option-radio';
                
                const text = document.createElement('div');
                text.className = 'option-text';
                text.textContent = `${String.fromCharCode(65 + index)}. ${option}`;
                
                optionDiv.appendChild(radio);
                optionDiv.appendChild(text);
                
                if (answers[currentQuestion] !== null) {
                    optionDiv.classList.add('disabled');
                    if (index === answers[currentQuestion]) {
                        optionDiv.classList.add('selected');
                        if (index === q.correct) {
                            optionDiv.classList.add('correct');
                        } else {
                            optionDiv.classList.add('incorrect');
                        }
                    }
                    if (index === q.correct && index !== answers[currentQuestion]) {
                        optionDiv.classList.add('correct');
                    }
                } else {
                    optionDiv.onclick = () => selectAnswer(index);
                }
                
                optionsList.appendChild(optionDiv);
            });
            
            if (answers[currentQuestion] !== null) {
                showExplanation();
            } else {
                document.getElementById('explanationBox').classList.remove('show');
            }
            
            updateProgress();
            updateNavButtons();
        }

        function selectAnswer(index) {
            if (answers[currentQuestion] !== null) return;
            
            answers[currentQuestion] = index;
            const q = questions[currentQuestion];
            
            const options = document.querySelectorAll('.option-item');
            options.forEach((opt, i) => {
                opt.classList.add('disabled');
                if (i === index) {
                    opt.classList.add('selected');
                    if (i === q.correct) {
                        opt.classList.add('correct');
                    } else {
                        opt.classList.add('incorrect');
                    }
                }
                if (i === q.correct && i !== index) {
                    opt.classList.add('correct');
                }
            });
            
            showExplanation();
            updateNavButtons();
        }

        function showExplanation() {
            const q = questions[currentQuestion];
            const explanationBox = document.getElementById('explanationBox');
            const isCorrect = answers[currentQuestion] === q.correct;
            
            explanationBox.className = 'explanation-box show ' + (isCorrect ? 'correct' : 'incorrect');
            
            let html = `
                <div class="explanation-title">${isCorrect ? '‚úÖ Ch√≠nh x√°c!' : '‚ùå Ch∆∞a ch√≠nh x√°c'}</div>
                <div class="explanation-content">
                    <p><strong>ƒê√°p √°n ƒë√∫ng:</strong> ${String.fromCharCode(65 + q.correct)}. ${q.options[q.correct]}</p>
                    <p>${q.explanation}</p>
            `;
            
            if (q.whyWrong && q.whyWrong.length > 0) {
                html += `
                    <div class="why-wrong">
                        <h4>‚ùì T·∫°i sao c√°c ƒë√°p √°n kh√°c sai:</h4>
                        <ul>
                            ${q.whyWrong.map(reason => `<li>‚Ä¢ ${reason}</li>`).join('')}
                        </ul>
                    </div>
                `;
            }
            
            html += '</div>';
            explanationBox.innerHTML = html;
        }

        function updateProgress() {
            const answered = answers.filter(a => a !== null).length;
            const percentage = Math.round((currentQuestion + 1) / questions.length * 100);
            
            document.getElementById('questionCounter').textContent = `C√¢u ${currentQuestion + 1}/${questions.length}`;
            document.getElementById('percentage').textContent = `${percentage}%`;
            document.getElementById('progressFill').style.width = percentage + '%';
        }

        function updateNavButtons() {
            document.getElementById('prevBtn').disabled = currentQuestion === 0;
            
            const nextBtn = document.getElementById('nextBtn');
            if (currentQuestion === questions.length - 1) {
                nextBtn.textContent = 'Ho√†n th√†nh ‚úì';
                nextBtn.className = 'nav-btn btn-finish';
            } else {
                nextBtn.textContent = 'C√¢u ti·∫øp theo ‚Üí';
                nextBtn.className = 'nav-btn btn-next';
            }
        }

        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                loadQuestion();
            } else {
                showResults();
            }
        }

        function showResults() {
            clearInterval(timerInterval);
            
            const score = answers.filter((ans, idx) => ans === questions[idx].correct).length;
            const percentage = (score / questions.length * 100).toFixed(1);
            
            document.getElementById('quizContent').style.display = 'none';
            document.getElementById('navigation').style.display = 'none';
            document.querySelector('.progress-section').style.display = 'none';
            
            const resultScreen = document.getElementById('resultScreen');
            const scoreCircle = document.getElementById('scoreCircle');
            const scoreText = document.getElementById('scoreText');
            const resultMessage = document.getElementById('resultMessage');
            const resultDetail = document.getElementById('resultDetail');
            
            scoreText.textContent = `${score}/${questions.length}`;
            resultDetail.textContent = `T·ª∑ l·ªá ch√≠nh x√°c: ${percentage}% | Th·ªùi gian ho√†n th√†nh: ${Math.floor((45 * 60 - timeLeft) / 60)}:${((45 * 60 - timeLeft) % 60).toString().padStart(2, '0')}`;
            
            if (percentage >= 90) {
                scoreCircle.className = 'score-circle score-excellent';
                resultMessage.textContent = 'üèÜ Xu·∫•t s·∫Øc! B·∫°n ƒë√£ s·∫µn s√†ng cho TOEIC 950+';
            } else if (percentage >= 75) {
                scoreCircle.className = 'score-circle score-good';
                resultMessage.textContent = 'üëç T·ªët! Ti·∫øp t·ª•c luy·ªán t·∫≠p ƒë·ªÉ ƒë·∫°t m·ª•c ti√™u';
            } else if (percentage >= 60) {
                scoreCircle.className = 'score-circle score-fair';
                resultMessage.textContent = 'üìö Kh√°! C·∫ßn √¥n l·∫°i c√°c ƒëi·ªÉm y·∫øu';
            } else {
                scoreCircle.className = 'score-circle score-poor';
                resultMessage.textContent = 'üí™ H√£y xem l·∫°i l√Ω thuy·∫øt v√† l√†m l·∫°i nh√©!';
            }
            
            resultScreen.classList.add('show');
        }

        function restartQuiz() {
            currentQuestion = 0;
            answers = new Array(questions.length).fill(null);
            timeLeft = 45 * 60;
            
            document.getElementById('quizContent').style.display = 'block';
            document.getElementById('navigation').style.display = 'flex';
            document.querySelector('.progress-section').style.display = 'block';
            document.getElementById('resultScreen').classList.remove('show');
            
            updateTimerDisplay();
            startTimer();
            loadQuestion();
        }

        // Initialize
        window.onload = () => {
            updateTimerDisplay();
            startTimer();
            loadQuestion();
        };
    </script>
</body>
</html>
